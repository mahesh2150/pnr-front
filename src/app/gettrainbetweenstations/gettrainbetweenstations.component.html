
<div class="div1" style="text-align: center;">
  <h2 *ngIf="show_train_details"><span>{{total}} Trains Running from {{statusResult.src}} to {{statusResult.dst}}</span> <br> {{search.date}}</h2>
  <div>
      <form #myForm="ngForm"  (ngSubmit)="getTrains()">
    <div class="example-container" align="center">
      <div>
        <mat-form-field class="example-full-width" >
          <input class="form-control"
          [matAutocomplete]="auto"
          id=train #srcCode="ngModel" name="srcCode" 
            [(ngModel)]="search.srcCode"
            (keyup)="getStations($event.target.value)"
            matInput placeholder="Enter Source Station" required>
           <mat-autocomplete #auto="matAutocomplete" force-select>
            <mat-option *ngFor="let option of stationsList" [value]= "option.code">
              {{option.code}} - {{ option.name }}
            </mat-option>
           </mat-autocomplete>
        </mat-form-field>
       
        <div class="alert alert-danger" *ngIf="srcCode.touched && !srcCode.valid ">
                         <div *ngIf="srcCode.errors.required">Enter Source Station</div>     
        </div>
        <div *ngIf="show_enter_valid_srcCode" style="text-align:center;color:red;font-weight:bold" class="autohide">Enter Valid Source Station Code</div>                
      </div>
      <div>
        <mat-form-field class="example-full-width" >
          <input class="form-control"
          [matAutocomplete]="auto1"
          id=train #dstCode="ngModel" name="dstCode" 
            [(ngModel)]="search.dstCode"
            (keyup)="getStations($event.target.value)"
            matInput placeholder="Enter Destination Station" required>
           <mat-autocomplete #auto1="matAutocomplete">
            <mat-option *ngFor="let option of stationsList" [value]= "option.code">
              {{option.code}} - {{ option.name }}
            </mat-option>
           </mat-autocomplete>
          </mat-form-field>
        <div class="alert alert-danger" *ngIf="dstCode.touched && !dstCode.valid ">
                         <div *ngIf="dstCode.errors.required">Enter Destination Station</div>                 
        </div>
        <div *ngIf="show_enter_valid_dstCode" style="text-align:center;color:red;font-weight:bold" class="autohide">Enter Valid Destination Station Code</div>                
      </div>
       <div>
        <mat-form-field class="example-full-width">
          <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="picker" placeholder="Choose a date" name="date" [(ngModel)]="myDate">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div> 
      <button type="submit" mat-raised-button color="warn">Search</button>
      <app-google-ad-300-250></app-google-ad-300-250>
    </div>
  </form>
  </div>
<div *ngIf="show_spinner" align="center"> 
        <mat-spinner color="warn"></mat-spinner>
      </div> 
  <div  *ngIf="show_table" class="example-container mat-elevation-z8" style="margin-top: 50px;">
      <mat-table #table [dataSource]="dataSource">
        <ng-container matColumnDef="no">
          <mat-header-cell *matHeaderCellDef>No</mat-header-cell>
          <mat-cell *matCellDef="let element;let i = index;">{{i+1}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Trains">
          <mat-header-cell *matHeaderCellDef>Trains</mat-header-cell>
          <mat-cell *matCellDef="let element"><a href="/indian-train-routes/{{element.number}}" target="_blank">{{element.number}}</a><br><span>{{element.name}}</span><br><span *ngFor="let option of element.days" ><span *ngIf="option.runs=='Y'"> {{option.code| slice:0:1}} </span><span *ngIf="option.runs=='N'">-</span> </span></mat-cell>
        </ng-container>
        <!-- <ng-container matColumnDef="Runs">
        <mat-header-cell *matHeaderCellDef>Runs On</mat-header-cell>
          <mat-cell *matCellDef="let element"><span *ngFor="let option of element.days" ><span *ngIf="option.runs=='Y'"> {{option.code}} </span><span *ngIf="option.runs=='N'">-</span> </span></mat-cell>
        </ng-container> -->
        <ng-container matColumnDef="Dep">
          <mat-header-cell *matHeaderCellDef>Dep</mat-header-cell>
          <mat-cell *matCellDef="let element"><span style="color:gray">  </span>{{element.src_departure_time}}<br><span style="color:gray"> </span>{{element.from_station.code}}</mat-cell>
          <!-- <mat-cell *matCellDef="let element"> {{element.schdep}} </mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="Arr">
          <mat-header-cell *matHeaderCellDef>Arr</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.dest_arrival_time}} <br><span style="color:gray"> </span>{{element.to_station.code}}</mat-cell>
          <!-- <mat-cell *matCellDef="let element"> {{element.actdep}} </mat-cell> -->
        </ng-container>
        <ng-container matColumnDef="Travel_Time">
          <mat-header-cell *matHeaderCellDef>Travel Time</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.travel_time}}</mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>
  </div>
    <br>
    <div align="center">
      <app-google-ad-300-250></app-google-ad-300-250>
    </div>
  <div *ngIf="show_trains_data">
   <mat-card class="example-card">
          <h4>{{statusResult.src}} to {{statusResult.dst}} TRAINS</h4>
          <p>There are total {{total}} direct trains between {{statusResult.src}} ({{statusResult.srcCode}}) and {{statusResult.dst}} ({{statusResult.dstCode}}) </p>
    </mat-card>
</div>
  <br>
</div>